<!DOCTYPE html>
<html>
<head>
  <title>Admin Panel</title>
  <meta http-equiv="refresh" content="10"> <!-- ✅ Should be inside <head> -->
</head>
<body>
  <h1>Pending Submissions</h1>

  {% for sid, s in pending.items() %}
    <div style="border:1px solid #ccc; margin:10px; padding:10px;">
      <p><strong>Activity:</strong> {{ s.activity }}</p>

      <!-- ✅ Use 'url_for' correctly to access uploaded file -->
      <video width="300" controls>
        <source src="{{ url_for('uploaded_file', filename=s.video_path) }}" type="video/mp4">
        Your browser does not support the video tag.
      </video>

      <form method="post" action="{{ url_for('admin_respond', sid=sid) }}">
        <textarea name="response" required rows="3" cols="50" placeholder="Type reply…"></textarea><br>
        <button type="submit">Send Response</button>
      </form>
    </div>
  {% else %}
    <p>No pending submissions.</p>
  {% endfor %}
</body>
</html>
